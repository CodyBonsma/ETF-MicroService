function cov_s5plksk3u(){var path="C:\\Users\\cbonsma\\Desktop\\PA-Cohort\\Projects\\ETF-Micro\\controllers\\holdingController.js";var hash="1c53753dcb5c673b45a9884aef5c0596913249c3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\cbonsma\\Desktop\\PA-Cohort\\Projects\\ETF-Micro\\controllers\\holdingController.js",statementMap:{"0":{start:{line:4,column:11},end:{line:4,column:37}},"1":{start:{line:7,column:16},end:{line:7,column:27}},"2":{start:{line:9,column:19},end:{line:20,column:1}},"3":{start:{line:10,column:4},end:{line:10,column:42}},"4":{start:{line:11,column:21},end:{line:13,column:5}},"5":{start:{line:15,column:20},end:{line:17,column:6}},"6":{start:{line:16,column:8},end:{line:16,column:45}},"7":{start:{line:19,column:4},end:{line:19,column:34}},"8":{start:{line:22,column:23},end:{line:25,column:1}},"9":{start:{line:23,column:19},end:{line:23,column:59}},"10":{start:{line:24,column:4},end:{line:24,column:35}},"11":{start:{line:27,column:22},end:{line:32,column:1}},"12":{start:{line:28,column:13},end:{line:28,column:26}},"13":{start:{line:30,column:18},end:{line:30,column:75}},"14":{start:{line:31,column:4},end:{line:31,column:34}},"15":{start:{line:34,column:22},end:{line:39,column:1}},"16":{start:{line:35,column:13},end:{line:35,column:26}},"17":{start:{line:37,column:20},end:{line:37,column:69}},"18":{start:{line:38,column:4},end:{line:38,column:33}},"19":{start:{line:41,column:22},end:{line:46,column:1}},"20":{start:{line:42,column:13},end:{line:42,column:26}},"21":{start:{line:44,column:4},end:{line:44,column:45}},"22":{start:{line:45,column:4},end:{line:45,column:61}},"23":{start:{line:48,column:0},end:{line:54,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:19},end:{line:9,column:20}},loc:{start:{line:9,column:39},end:{line:20,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:59},end:{line:15,column:60}},loc:{start:{line:15,column:68},end:{line:17,column:5}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:22,column:23},end:{line:22,column:24}},loc:{start:{line:22,column:43},end:{line:25,column:1}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:27,column:22},end:{line:27,column:23}},loc:{start:{line:27,column:42},end:{line:32,column:1}},line:27},"4":{name:"(anonymous_4)",decl:{start:{line:34,column:22},end:{line:34,column:23}},loc:{start:{line:34,column:42},end:{line:39,column:1}},line:34},"5":{name:"(anonymous_5)",decl:{start:{line:41,column:22},end:{line:41,column:23}},loc:{start:{line:41,column:42},end:{line:46,column:1}},line:41}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1c53753dcb5c673b45a9884aef5c0596913249c3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_s5plksk3u=function(){return actualCoverage;};}return actualCoverage;}cov_s5plksk3u();// require the db created in the index file
// const { Holdings } = require('../models/index');
const db=(cov_s5plksk3u().s[0]++,require('../models/index'));// get the holding model
const Holding=(cov_s5plksk3u().s[1]++,db.Holdings);cov_s5plksk3u().s[2]++;const addHolding=async(req,res)=>{cov_s5plksk3u().f[0]++;cov_s5plksk3u().s[3]++;console.log("POSTING THIS:",req.body);let input_data=(cov_s5plksk3u().s[4]++,{numPurchased:req.body.numPurchased});const holding=(cov_s5plksk3u().s[5]++,await Holding.create(input_data).catch(err=>{cov_s5plksk3u().f[1]++;cov_s5plksk3u().s[6]++;console.log("THIS IS THE ERRR",err);}));cov_s5plksk3u().s[7]++;res.status(200).send(holding);};cov_s5plksk3u().s[8]++;const getAllHoldings=async(req,res)=>{cov_s5plksk3u().f[2]++;let holdings=(cov_s5plksk3u().s[9]++,await Holding.findAll({include:db.ETF}));cov_s5plksk3u().s[10]++;res.status(200).send(holdings);};cov_s5plksk3u().s[11]++;const getOneHolding=async(req,res)=>{cov_s5plksk3u().f[3]++;let id=(cov_s5plksk3u().s[12]++,req.params.id);let holding=(cov_s5plksk3u().s[13]++,await Holding.findOne({where:{id:id},include:db.ETF}));cov_s5plksk3u().s[14]++;res.status(200).send(holding);};cov_s5plksk3u().s[15]++;const updateHolding=async(req,res)=>{cov_s5plksk3u().f[4]++;let id=(cov_s5plksk3u().s[16]++,req.params.id);const holding=(cov_s5plksk3u().s[17]++,await Holding.update(req.body,{where:{id:id}}));cov_s5plksk3u().s[18]++;res.status(200).send(holding);};cov_s5plksk3u().s[19]++;const deleteHolding=async(req,res)=>{cov_s5plksk3u().f[5]++;let id=(cov_s5plksk3u().s[20]++,req.params.id);cov_s5plksk3u().s[21]++;await Holding.destroy({where:{id:id}});cov_s5plksk3u().s[22]++;res.status(200).send(`holding with id: ${id} is deleted`);};cov_s5plksk3u().s[23]++;module.exports={addHolding,getAllHoldings,getOneHolding,updateHolding,deleteHolding};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbGRpbmdDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImRiIiwicmVxdWlyZSIsIkhvbGRpbmciLCJIb2xkaW5ncyIsImFkZEhvbGRpbmciLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImlucHV0X2RhdGEiLCJudW1QdXJjaGFzZWQiLCJob2xkaW5nIiwiY3JlYXRlIiwiY2F0Y2giLCJlcnIiLCJzdGF0dXMiLCJzZW5kIiwiZ2V0QWxsSG9sZGluZ3MiLCJob2xkaW5ncyIsImZpbmRBbGwiLCJpbmNsdWRlIiwiRVRGIiwiZ2V0T25lSG9sZGluZyIsImlkIiwicGFyYW1zIiwiZmluZE9uZSIsIndoZXJlIiwidXBkYXRlSG9sZGluZyIsInVwZGF0ZSIsImRlbGV0ZUhvbGRpbmciLCJkZXN0cm95IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IitnR0FlWTt5RkFkWjtBQUNBO0FBQ0EsS0FBTUEsQ0FBQUEsRUFBRSx5QkFBR0MsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBUixDQUVBO0FBQ0EsS0FBTUMsQ0FBQUEsT0FBTyx5QkFBR0YsRUFBRSxDQUFDRyxRQUFOLENBQWIsQyx1QkFFQSxLQUFNQyxDQUFBQSxVQUFVLENBQUcsTUFBT0MsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLCtDQUNuQ0MsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWixDQUE2QkgsR0FBRyxDQUFDSSxJQUFqQyxFQUNBLEdBQUlDLENBQUFBLFVBQVUseUJBQUcsQ0FDYkMsWUFBWSxDQUFFTixHQUFHLENBQUNJLElBQUosQ0FBU0UsWUFEVixDQUFILENBQWQsQ0FJQSxLQUFNQyxDQUFBQSxPQUFPLHlCQUFHLEtBQU1WLENBQUFBLE9BQU8sQ0FBQ1csTUFBUixDQUFlSCxVQUFmLEVBQTJCSSxLQUEzQixDQUFrQ0MsR0FBRCxFQUFTLCtDQUM1RFIsT0FBTyxDQUFDQyxHQUFSLENBQVksa0JBQVosQ0FBZ0NPLEdBQWhDLEVBQ0gsQ0FGcUIsQ0FBVCxDQUFiLENBTm1DLHVCQVVuQ1QsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJMLE9BQXJCLEVBQ0gsQ0FYRCxDLHVCQWFBLEtBQU1NLENBQUFBLGNBQWMsQ0FBRyxNQUFPYixHQUFQLENBQVlDLEdBQVosR0FBb0Isd0JBQ3ZDLEdBQUlhLENBQUFBLFFBQVEseUJBQUcsS0FBTWpCLENBQUFBLE9BQU8sQ0FBQ2tCLE9BQVIsQ0FBZ0IsQ0FBQ0MsT0FBTyxDQUFFckIsRUFBRSxDQUFDc0IsR0FBYixDQUFoQixDQUFULENBQVosQ0FEdUMsd0JBRXZDaEIsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJFLFFBQXJCLEVBQ0gsQ0FIRCxDLHdCQUtBLEtBQU1JLENBQUFBLGFBQWEsQ0FBRyxNQUFPbEIsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHdCQUN0QyxHQUFJa0IsQ0FBQUEsRUFBRSwwQkFBR25CLEdBQUcsQ0FBQ29CLE1BQUosQ0FBV0QsRUFBZCxDQUFOLENBRUEsR0FBSVosQ0FBQUEsT0FBTywwQkFBRyxLQUFNVixDQUFBQSxPQUFPLENBQUN3QixPQUFSLENBQWdCLENBQUNDLEtBQUssQ0FBRSxDQUFDSCxFQUFFLENBQUVBLEVBQUwsQ0FBUixDQUFrQkgsT0FBTyxDQUFFckIsRUFBRSxDQUFDc0IsR0FBOUIsQ0FBaEIsQ0FBVCxDQUFYLENBSHNDLHdCQUl0Q2hCLEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCTCxPQUFyQixFQUNILENBTEQsQyx3QkFPQSxLQUFNZ0IsQ0FBQUEsYUFBYSxDQUFHLE1BQU92QixHQUFQLENBQVlDLEdBQVosR0FBb0Isd0JBQ3RDLEdBQUlrQixDQUFBQSxFQUFFLDBCQUFHbkIsR0FBRyxDQUFDb0IsTUFBSixDQUFXRCxFQUFkLENBQU4sQ0FFQSxLQUFNWixDQUFBQSxPQUFPLDBCQUFHLEtBQU1WLENBQUFBLE9BQU8sQ0FBQzJCLE1BQVIsQ0FBZXhCLEdBQUcsQ0FBQ0ksSUFBbkIsQ0FBeUIsQ0FBQ2tCLEtBQUssQ0FBRSxDQUFDSCxFQUFFLENBQUVBLEVBQUwsQ0FBUixDQUF6QixDQUFULENBQWIsQ0FIc0Msd0JBSXRDbEIsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJMLE9BQXJCLEVBQ0gsQ0FMRCxDLHdCQU9BLEtBQU1rQixDQUFBQSxhQUFhLENBQUcsTUFBT3pCLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix3QkFDdEMsR0FBSWtCLENBQUFBLEVBQUUsMEJBQUduQixHQUFHLENBQUNvQixNQUFKLENBQVdELEVBQWQsQ0FBTixDQURzQyx3QkFHdEMsS0FBTXRCLENBQUFBLE9BQU8sQ0FBQzZCLE9BQVIsQ0FBZ0IsQ0FBQ0osS0FBSyxDQUFFLENBQUNILEVBQUUsQ0FBRUEsRUFBTCxDQUFSLENBQWhCLENBQU4sQ0FIc0Msd0JBSXRDbEIsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBc0Isb0JBQW1CTyxFQUFHLGFBQTVDLEVBQ0gsQ0FMRCxDLHdCQU9BUSxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FDYjdCLFVBRGEsQ0FFYmMsY0FGYSxDQUdiSyxhQUhhLENBSWJLLGFBSmEsQ0FLYkUsYUFMYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vLyByZXF1aXJlIHRoZSBkYiBjcmVhdGVkIGluIHRoZSBpbmRleCBmaWxlXHJcbi8vIGNvbnN0IHsgSG9sZGluZ3MgfSA9IHJlcXVpcmUoJy4uL21vZGVscy9pbmRleCcpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL21vZGVscy9pbmRleCcpO1xyXG5cclxuLy8gZ2V0IHRoZSBob2xkaW5nIG1vZGVsXHJcbmNvbnN0IEhvbGRpbmcgPSBkYi5Ib2xkaW5nc1xyXG5cclxuY29uc3QgYWRkSG9sZGluZyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJQT1NUSU5HIFRISVM6XCIsIHJlcS5ib2R5KVxyXG4gICAgbGV0IGlucHV0X2RhdGEgPSB7XHJcbiAgICAgICAgbnVtUHVyY2hhc2VkOiByZXEuYm9keS5udW1QdXJjaGFzZWRcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaG9sZGluZyA9IGF3YWl0IEhvbGRpbmcuY3JlYXRlKGlucHV0X2RhdGEpLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlRISVMgSVMgVEhFIEVSUlJcIiwgZXJyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGhvbGRpbmcpO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0QWxsSG9sZGluZ3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBob2xkaW5ncyA9IGF3YWl0IEhvbGRpbmcuZmluZEFsbCh7aW5jbHVkZTogZGIuRVRGfSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChob2xkaW5ncyk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRPbmVIb2xkaW5nID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgIGxldCBob2xkaW5nID0gYXdhaXQgSG9sZGluZy5maW5kT25lKHt3aGVyZToge2lkOiBpZH0sIGluY2x1ZGU6IGRiLkVURn0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQoaG9sZGluZyk7XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVIb2xkaW5nID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgIGNvbnN0IGhvbGRpbmcgPSBhd2FpdCBIb2xkaW5nLnVwZGF0ZShyZXEuYm9keSwge3doZXJlOiB7aWQ6IGlkfX0pXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChob2xkaW5nKVxyXG59O1xyXG5cclxuY29uc3QgZGVsZXRlSG9sZGluZyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuXHJcbiAgICBhd2FpdCBIb2xkaW5nLmRlc3Ryb3koe3doZXJlOiB7aWQ6IGlkfX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQoYGhvbGRpbmcgd2l0aCBpZDogJHtpZH0gaXMgZGVsZXRlZGApXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGFkZEhvbGRpbmcsXHJcbiAgICBnZXRBbGxIb2xkaW5ncyxcclxuICAgIGdldE9uZUhvbGRpbmcsXHJcbiAgICB1cGRhdGVIb2xkaW5nLFxyXG4gICAgZGVsZXRlSG9sZGluZ1xyXG59OyJdfQ==